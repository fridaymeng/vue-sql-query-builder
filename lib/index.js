!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e=n();for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(self,(function(){return(()=>{"use strict";var t={342:(t,n,e)=>{e.d(n,{Z:()=>s});var r=e(81),i=e.n(r),o=e(645),a=e.n(o)()(i());a.push([t.id,'.nodelayout-wrap {\n  border: 1px solid #ddd;\n  background: #fff;\n  border-radius: 5px;\n  width: 100%;\n}\n@keyframes marchingants {\n  to {\n    stroke-dashoffset: 19;\n  }\n}\n.nodelayout-wrap svg .small-circle {\n  opacity: 0;\n  fill: #fff;\n  stroke: #08c;\n}\n.nodelayout-wrap svg g.unit-dis {\n  stroke-width: 1px;\n}\n.nodelayout-wrap svg g.unit-dis[data-ready="true"] .small-circle {\n  opacity: 1;\n}\n.nodelayout-wrap svg g.unit-dis.selected {\n  stroke-dasharray: 5;\n}\n.nodelayout-wrap svg g.unit-dis.selected .small-circle {\n  opacity: 1;\n}\n.nodelayout-wrap svg g.unit-dis.selected .delete-circle {\n  opacity: 1;\n}\n.nodelayout-wrap svg g.unit-dis.selected rect {\n  animation: marchingants 1s forwards infinite linear;\n  stroke-width: 2px;\n}\n.nodelayout-wrap svg g.unit-dis:hover .small-circle {\n  opacity: 1;\n}\n.nodelayout-wrap svg g.unit-dis .main-circle {\n  cursor: move;\n}\n.nodelayout-wrap svg .connect-line {\n  opacity: 0;\n  stroke: #111;\n  fill: none;\n  stroke-width: 2px;\n}\n.nodelayout-wrap svg .connect-line.show {\n  opacity: 1;\n}\n.nodelayout-wrap svg .delete-circle {\n  cursor: pointer;\n  opacity: 0;\n}\n.nodelayout-wrap svg .connect-fixed-line {\n  stroke: #111;\n  stroke-width: 2px;\n}\n.nodelayout-wrap svg .connect-fixed-line[data-selected="true"] {\n  stroke-dasharray: 5;\n  animation: marchingants 1s reverse forwards infinite linear;\n}\n.nodelayout-wrap .svg-option-list {\n  height: 100px;\n  padding: 0 10px;\n  background: #fff;\n}\n.nodelayout-wrap .svg-option-list .svg-option-list-li {\n  display: inline-block;\n  padding: 20px 35px;\n  text-align: center;\n}\n',""]);const s=a},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),n.push(l))}},n}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var u=t[s],c=r.base?u[0]+r.base:u[0],l=o[c]||0,h="".concat(c," ").concat(l);o[c]=l+1;var f=e(h),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)n[f].references++,n[f].updater(d);else{var p=i(d,r);r.byIndex=s,n.splice(s,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function i(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=e(o[a]);n[s].references--}for(var u=r(t,i),c=0;c<o.length;c++){var l=e(o[c]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}o=u}}},569:t=>{var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},216:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},795:t=>{t.exports=function(t){var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var i=void 0!==e.layer;i&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,i&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},589:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={id:r,exports:{}};return t[r](o,o.exports,e),o.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{function t(){}function n(n){return null==n?t:function(){return this.querySelector(n)}}function i(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function o(){return[]}function a(t){return null==t?o:function(){return this.querySelectorAll(t)}}function s(t){return function(){return this.matches(t)}}function u(t){return function(n){return n.matches(t)}}e.r(r),e.d(r,{NodeLayout:()=>vr});var c=Array.prototype.find;function l(){return this.firstElementChild}var h=Array.prototype.filter;function f(){return Array.from(this.children)}function d(t){return new Array(t.length)}function p(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function m(t){return function(){return t}}function v(t,n,e,r,i,o){for(var a,s=0,u=n.length,c=o.length;s<c;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new p(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function y(t,n,e,r,i,o,a){var s,u,c,l=new Map,h=n.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=n[s])&&(d[s]=c=a.call(u,u.__data__,s,n)+"",l.has(c)?i[s]=u:l.set(c,u));for(s=0;s<f;++s)c=a.call(t,o[s],s,o)+"",(u=l.get(c))?(r[s]=u,u.__data__=o[s],l.delete(c)):e[s]=new p(t,o[s]);for(s=0;s<h;++s)(u=n[s])&&l.get(d[s])===u&&(i[s]=u)}function g(t){return t.__data__}function w(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function _(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var x="http://www.w3.org/1999/xhtml";const b={svg:"http://www.w3.org/2000/svg",xhtml:x,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function k(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),b.hasOwnProperty(n)?{space:b[n],local:t}:t}function M(t){return function(){this.removeAttribute(t)}}function A(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E(t,n){return function(){this.setAttribute(t,n)}}function z(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function C(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function N(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function S(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function T(t){return function(){this.style.removeProperty(t)}}function $(t,n,e){return function(){this.style.setProperty(t,n,e)}}function P(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function D(t,n){return t.style.getPropertyValue(n)||S(t).getComputedStyle(t,null).getPropertyValue(n)}function I(t){return function(){delete this[t]}}function R(t,n){return function(){this[t]=n}}function L(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function W(t){return t.trim().split(/^|\s+/)}function X(t){return t.classList||new j(t)}function j(t){this._node=t,this._names=W(t.getAttribute("class")||"")}function Y(t,n){for(var e=X(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function q(t,n){for(var e=X(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function O(t){return function(){Y(this,t)}}function B(t){return function(){q(this,t)}}function H(t,n){return function(){(n.apply(this,arguments)?Y:q)(this,t)}}function V(){this.textContent=""}function U(t){return function(){this.textContent=t}}function K(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Z(){this.innerHTML=""}function F(t){return function(){this.innerHTML=t}}function G(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Q(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===x&&n.documentElement.namespaceURI===x?n.createElement(t):n.createElementNS(e,t)}}function nt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function et(t){var n=k(t);return(n.local?nt:tt)(n)}function rt(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function ot(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function at(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function st(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function ut(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function ct(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function lt(t,n,e){var r=S(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ht(t,n){return function(){return lt(this,t,n)}}function ft(t,n){return function(){return lt(this,t,n.apply(this,arguments))}}j.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var dt=[null];function pt(t,n){this._groups=t,this._parents=n}function mt(){return new pt([[document.documentElement]],dt)}pt.prototype=mt.prototype={constructor:pt,select:function(t){"function"!=typeof t&&(t=n(t));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a,s,u=e[o],c=u.length,l=i[o]=new Array(c),h=0;h<c;++h)(a=u[h])&&(s=t.call(a,a.__data__,h,u))&&("__data__"in a&&(s.__data__=a.__data__),l[h]=s);return new pt(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return i(t.apply(this,arguments))}}(t):a(t);for(var n=this._groups,e=n.length,r=[],o=[],s=0;s<e;++s)for(var u,c=n[s],l=c.length,h=0;h<l;++h)(u=c[h])&&(r.push(t.call(u,u.__data__,h,c)),o.push(u));return new pt(r,o)},selectChild:function(t){return this.select(null==t?l:function(t){return function(){return c.call(this.children,t)}}("function"==typeof t?t:u(t)))},selectChildren:function(t){return this.selectAll(null==t?f:function(t){return function(){return h.call(this.children,t)}}("function"==typeof t?t:u(t)))},filter:function(t){"function"!=typeof t&&(t=s(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new pt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,g);var e=n?y:v,r=this._parents,i=this._groups;"function"!=typeof t&&(t=m(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],h=i[c],f=h.length,d=w(t.call(l,l&&l.__data__,c,r)),p=d.length,_=s[c]=new Array(p),x=a[c]=new Array(p),b=u[c]=new Array(f);e(l,h,_,x,b,d,n);for(var k,M,A=0,E=0;A<p;++A)if(k=_[A]){for(A>=E&&(E=A+1);!(M=x[E])&&++E<p;);k._next=M||null}}return(a=new pt(a,r))._enter=s,a._exit=u,a},enter:function(){return new pt(this._enter||this._groups.map(d),this._parents)},exit:function(){return new pt(this._exit||this._groups.map(d),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c,l=e[u],h=r[u],f=l.length,d=s[u]=new Array(f),p=0;p<f;++p)(c=l[p]||h[p])&&(d[p]=c);for(;u<i;++u)s[u]=e[u];return new pt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=_);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(n)}return new pt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=k(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?A:M:"function"==typeof n?e.local?N:C:e.local?z:E)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?T:"function"==typeof n?P:$)(t,n,null==e?"":e)):D(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?I:"function"==typeof n?L:R)(t,n)):this.node()[t]},classed:function(t,n){var e=W(t+"");if(arguments.length<2){for(var r=X(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?H:n?O:B)(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?K:U)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?G:F)(t)):this.node().innerHTML},raise:function(){return this.each(Q)},lower:function(){return this.each(J)},append:function(t){var n="function"==typeof t?t:et(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,e){var r="function"==typeof t?t:et(t),i=null==e?rt:"function"==typeof e?e:n(e);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(it)},clone:function(t){return this.select(t?at:ot)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=st(t+""),a=o.length;if(!(arguments.length<2)){for(s=n?ct:ut,r=0;r<a;++r)this.each(s(o[r],n,e));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,n){return this.each(("function"==typeof n?ft:ht)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const vt=mt;var yt={value:()=>{}};function gt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new wt(r)}function wt(t){this._=t}function _t(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function xt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function bt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=yt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}wt.prototype=gt.prototype={constructor:wt,on:function(t,n){var e,r=this._,i=_t(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=bt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=bt(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=xt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new wt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const kt=gt;var Mt,At,Et=0,zt=0,Ct=0,Nt=0,St=0,Tt=0,$t="object"==typeof performance&&performance.now?performance:Date,Pt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Dt(){return St||(Pt(It),St=$t.now()+Tt)}function It(){St=0}function Rt(){this._call=this._time=this._next=null}function Lt(t,n,e){var r=new Rt;return r.restart(t,n,e),r}function Wt(){St=(Nt=$t.now())+Tt,Et=zt=0;try{!function(){Dt(),++Et;for(var t,n=Mt;n;)(t=St-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Et}()}finally{Et=0,function(){for(var t,n,e=Mt,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Mt=n);At=t,jt(r)}(),St=0}}function Xt(){var t=$t.now(),n=t-Nt;n>1e3&&(Tt-=n,Nt=t)}function jt(t){Et||(zt&&(zt=clearTimeout(zt)),t-St>24?(t<1/0&&(zt=setTimeout(Wt,t-$t.now()-Tt)),Ct&&(Ct=clearInterval(Ct))):(Ct||(Nt=$t.now(),Ct=setInterval(Xt,1e3)),Et=1,Pt(Wt)))}function Yt(t,n,e){var r=new Rt;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Rt.prototype=Lt.prototype={constructor:Rt,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Dt():+e)+(null==n?0:+n),this._next||At===this||(At?At._next=this:Mt=this,At=this),this._call=t,this._time=e,jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,jt())}};var qt=kt("start","end","cancel","interrupt"),Ot=[];function Bt(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(u){var c,l,h,f;if(1!==e.state)return s();for(c in i)if((f=i[c]).name===e.name){if(3===f.state)return Yt(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<n&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(Yt((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(u))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(h=e.tween.length),c=0,l=-1;c<h;++c)(f=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=f);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Lt((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:qt,tween:Ot,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Ht(t,n){var e=Ut(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Vt(t,n){var e=Ut(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Ut(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Kt(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Zt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Ft,Gt=180/Math.PI,Qt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jt(t,n,e,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,u/=s),t*r<n*e&&(t=-t,n=-n,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Gt,skewX:Math.atan(u)*Gt,scaleX:a,scaleY:s}}function tn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,n,null,e);s.push({i:u-4,x:Zt(t,i)},{i:u-2,x:Zt(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Zt(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,s,u),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Zt(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,s,u),function(t,n,e,r,o,a){if(t!==e||n!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Zt(t,e)},{i:s-2,x:Zt(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var n,e=-1,r=u.length;++e<r;)s[(n=u[e]).i]=n.x(t);return s.join("")}}}var nn=tn((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Qt:Jt(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),en=tn((function(t){return null==t?Qt:(Ft||(Ft=document.createElementNS("http://www.w3.org/2000/svg","g")),Ft.setAttribute("transform",t),(t=Ft.transform.baseVal.consolidate())?Jt((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Qt)}),", ",")",")");function rn(t,n){var e,r;return function(){var i=Vt(this,t),o=i.tween;if(o!==e)for(var a=0,s=(r=e=o).length;a<s;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function on(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Vt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:n,value:e},u=0,c=i.length;u<c;++u)if(i[u].name===n){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function an(t,n,e){var r=t._id;return t.each((function(){var t=Vt(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Ut(t,r).value[n]}}function sn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function un(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function cn(){}var ln=.7,hn=1/ln,fn="\\s*([+-]?\\d+)\\s*",dn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mn=/^#([0-9a-f]{3,8})$/,vn=new RegExp("^rgb\\("+[fn,fn,fn]+"\\)$"),yn=new RegExp("^rgb\\("+[pn,pn,pn]+"\\)$"),gn=new RegExp("^rgba\\("+[fn,fn,fn,dn]+"\\)$"),wn=new RegExp("^rgba\\("+[pn,pn,pn,dn]+"\\)$"),_n=new RegExp("^hsl\\("+[dn,pn,pn]+"\\)$"),xn=new RegExp("^hsla\\("+[dn,pn,pn,dn]+"\\)$"),bn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kn(){return this.rgb().formatHex()}function Mn(){return this.rgb().formatRgb()}function An(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=mn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?En(n):3===e?new Sn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?zn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?zn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=vn.exec(t))?new Sn(n[1],n[2],n[3],1):(n=yn.exec(t))?new Sn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=gn.exec(t))?zn(n[1],n[2],n[3],n[4]):(n=wn.exec(t))?zn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=_n.exec(t))?Dn(n[1],n[2]/100,n[3]/100,1):(n=xn.exec(t))?Dn(n[1],n[2]/100,n[3]/100,n[4]):bn.hasOwnProperty(t)?En(bn[t]):"transparent"===t?new Sn(NaN,NaN,NaN,0):null}function En(t){return new Sn(t>>16&255,t>>8&255,255&t,1)}function zn(t,n,e,r){return r<=0&&(t=n=e=NaN),new Sn(t,n,e,r)}function Cn(t){return t instanceof cn||(t=An(t)),t?new Sn((t=t.rgb()).r,t.g,t.b,t.opacity):new Sn}function Nn(t,n,e,r){return 1===arguments.length?Cn(t):new Sn(t,n,e,null==r?1:r)}function Sn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Tn(){return"#"+Pn(this.r)+Pn(this.g)+Pn(this.b)}function $n(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Pn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Dn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Rn(t,n,e,r)}function In(t){if(t instanceof Rn)return new Rn(t.h,t.s,t.l,t.opacity);if(t instanceof cn||(t=An(t)),!t)return new Rn;if(t instanceof Rn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=n===o?(e-r)/s+6*(e<r):e===o?(r-n)/s+2:(n-e)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Rn(a,s,u,t.opacity)}function Rn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ln(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Wn(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}sn(cn,An,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:kn,formatHex:kn,formatHsl:function(){return In(this).formatHsl()},formatRgb:Mn,toString:Mn}),sn(Sn,Nn,un(cn,{brighter:function(t){return t=null==t?hn:Math.pow(hn,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ln:Math.pow(ln,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tn,formatHex:Tn,formatRgb:$n,toString:$n})),sn(Rn,(function(t,n,e,r){return 1===arguments.length?In(t):new Rn(t,n,e,null==r?1:r)}),un(cn,{brighter:function(t){return t=null==t?hn:Math.pow(hn,t),new Rn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ln:Math.pow(ln,t),new Rn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Sn(Ln(t>=240?t-240:t+120,i,r),Ln(t,i,r),Ln(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Xn=t=>()=>t;function jn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Xn(isNaN(t)?n:t)}const Yn=function t(n){var e=function(t){return 1==(t=+t)?jn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Xn(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=Nn(t)).r,(n=Nn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=jn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function qn(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),s=new Array(i);for(e=0;e<i;++e)r=Nn(n[e]),o[e]=r.r||0,a[e]=r.g||0,s[e]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}qn((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<n-1?t[r+2]:2*o-i;return Wn((e-r/n)*n,a,i,o,s)}})),qn((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],s=t[(r+2)%n];return Wn((e-r/n)*n,i,o,a,s)}}));var On=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bn=new RegExp(On.source,"g");function Hn(t,n){var e,r,i,o=On.lastIndex=Bn.lastIndex=0,a=-1,s=[],u=[];for(t+="",n+="";(e=On.exec(t))&&(r=Bn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Zt(e,r)})),o=Bn.lastIndex;return o<n.length&&(i=n.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(n){return t(n)+""}}(u[0].x):function(t){return function(){return t}}(n):(n=u.length,function(t){for(var e,r=0;r<n;++r)s[(e=u[r]).i]=e.x(t);return s.join("")})}function Vn(t,n){var e;return("number"==typeof n?Zt:n instanceof An?Yn:(e=An(n))?(n=e,Yn):Hn)(t,n)}function Un(t){return function(){this.removeAttribute(t)}}function Kn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zn(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Fn(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Gn(t,n,e){var r,i,o;return function(){var a,s,u=e(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=n(r=a,u));this.removeAttribute(t)}}function Qn(t,n,e){var r,i,o;return function(){var a,s,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=n(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Jn(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function te(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ne(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&te(t,i)),e}return i._value=n,i}function ee(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Jn(t,i)),e}return i._value=n,i}function re(t,n){return function(){Ht(this,t).delay=+n.apply(this,arguments)}}function ie(t,n){return n=+n,function(){Ht(this,t).delay=n}}function oe(t,n){return function(){Vt(this,t).duration=+n.apply(this,arguments)}}function ae(t,n){return n=+n,function(){Vt(this,t).duration=n}}function se(t,n){if("function"!=typeof n)throw new Error;return function(){Vt(this,t).ease=n}}function ue(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ht:Vt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(n,e),a.on=i}}var ce=vt.prototype.constructor;function le(t){return function(){this.style.removeProperty(t)}}function he(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function fe(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&he(t,o,e)),r}return o._value=n,o}function de(t){return function(n){this.textContent=t.call(this,n)}}function pe(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&de(r)),n}return r._value=t,r}var me=0;function ve(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ye(){return++me}var ge=vt.prototype;ve.prototype=function(t){return vt().transition(t)}.prototype={constructor:ve,select:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=n(t));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var u,c,l=i[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d])&&(c=t.call(u,u.__data__,d,l))&&("__data__"in u&&(c.__data__=u.__data__),f[d]=c,Bt(f[d],e,r,d,f,Ut(u,r)));return new ve(a,this._parents,e,r)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=a(t));for(var r=this._groups,i=r.length,o=[],s=[],u=0;u<i;++u)for(var c,l=r[u],h=l.length,f=0;f<h;++f)if(c=l[f]){for(var d,p=t.call(c,c.__data__,f,l),m=Ut(c,e),v=0,y=p.length;v<y;++v)(d=p[v])&&Bt(d,n,e,v,p,m);o.push(p),s.push(c)}return new ve(o,s,n,e)},selectChild:ge.selectChild,selectChildren:ge.selectChildren,filter:function(t){"function"!=typeof t&&(t=s(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new ve(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=n[s],l=e[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;s<r;++s)a[s]=n[s];return new ve(a,this._parents,this._name,this._id)},selection:function(){return new ce(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ye(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=Ut(a,n);Bt(a,t,e,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ve(r,this._parents,t,e)},call:ge.call,nodes:ge.nodes,node:ge.node,size:ge.size,empty:ge.empty,each:ge.each,on:function(t,n){var e=this._id;return arguments.length<2?Ut(this.node(),e).on.on(t):this.each(ue(e,t,n))},attr:function(t,n){var e=k(t),r="transform"===e?en:Vn;return this.attrTween(t,"function"==typeof n?(e.local?Qn:Gn)(e,r,an(this,"attr."+t,n)):null==n?(e.local?Kn:Un)(e):(e.local?Fn:Zn)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=k(t);return this.tween(e,(r.local?ne:ee)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?nn:Vn;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=D(this,t),a=(this.style.removeProperty(t),D(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,le(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=D(this,t),s=e(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=D(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,s))}}(t,r,an(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,s="end."+a;return function(){var u=Vt(this,t),c=u.on,l=null==u.value[a]?o||(o=le(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=D(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,fe(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(an(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,pe(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ut(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?rn:on)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?re:ie)(n,t)):Ut(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?oe:ae)(n,t)):Ut(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(se(n,t)):Ut(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Vt(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};e.each((function(){var e=Vt(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:ge[Symbol.iterator]};var we={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function _e(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}vt.prototype.interrupt=function(t){return this.each((function(){Kt(this,t)}))},vt.prototype.transition=function(t){var n,e;t instanceof ve?(n=t._id,t=t._name):(n=ye(),(e=we).time=Dt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&Bt(a,t,n,c,s,e||_e(a,n));return new ve(r,this._parents,t,n)};const{abs:xe,max:be,min:ke}=Math;function Me(t){return{type:t}}function Ae(t){return"string"==typeof t?new pt([[document.querySelector(t)]],[document.documentElement]):new pt([[t]],dt)}function Ee(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}["w","e"].map(Me),["n","s"].map(Me),["n","w","e","s","nw","ne","sw","se"].map(Me);const ze={passive:!1},Ce={capture:!0,passive:!1};function Ne(t){t.stopImmediatePropagation()}function Se(t){t.preventDefault(),t.stopImmediatePropagation()}function Te(t){var n=t.document.documentElement,e=Ae(t).on("dragstart.drag",Se,Ce);"onselectstart"in n?e.on("selectstart.drag",Se,Ce):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function $e(t,n){var e=t.document.documentElement,r=Ae(t).on("dragstart.drag",null);n&&(r.on("click.drag",Se,Ce),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const Pe=t=>()=>t;function De(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}function Ie(t){return!t.ctrlKey&&!t.button}function Re(){return this.parentNode}function Le(t,n){return null==n?{x:t.x,y:t.y}:n}function We(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xe(){var t,n,e,r,i=Ie,o=Re,a=Le,s=We,u={},c=kt("start","drag","end"),l=0,h=0;function f(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",v).on("touchmove.drag",y,ze).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,s){if(!r&&i.call(this,a,s)){var u=w(this,o.call(this,a,s),a,s,"mouse");u&&(Ae(a.view).on("mousemove.drag",p,Ce).on("mouseup.drag",m,Ce),Te(a.view),Ne(a),e=!1,t=a.clientX,n=a.clientY,u("start",a))}}function p(r){if(Se(r),!e){var i=r.clientX-t,o=r.clientY-n;e=i*i+o*o>h}u.mouse("drag",r)}function m(t){Ae(t.view).on("mousemove.drag mouseup.drag",null),$e(t.view,e),Se(t),u.mouse("end",t)}function v(t,n){if(i.call(this,t,n)){var e,r,a=t.changedTouches,s=o.call(this,t,n),u=a.length;for(e=0;e<u;++e)(r=w(this,s,t,n,a[e].identifier,a[e]))&&(Ne(t),r("start",t,a[e]))}}function y(t){var n,e,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(e=u[r[n].identifier])&&(Se(t),e("drag",t,r[n]))}function g(t){var n,e,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<o;++n)(e=u[i[n].identifier])&&(Ne(t),e("end",t,i[n]))}function w(t,n,e,r,i,o){var s,h,d,p=c.copy(),m=Ee(o||e,n);if(null!=(d=a.call(t,new De("beforestart",{sourceEvent:e,target:f,identifier:i,active:l,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return s=d.x-m[0]||0,h=d.y-m[1]||0,function e(o,a,c){var v,y=m;switch(o){case"start":u[i]=e,v=l++;break;case"end":delete u[i],--l;case"drag":m=Ee(c||a,n),v=l}p.call(o,t,new De(o,{sourceEvent:a,subject:d,target:f,identifier:i,active:v,x:m[0]+s,y:m[1]+h,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:p}),r)}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:Pe(!!t),f):i},f.container=function(t){return arguments.length?(o="function"==typeof t?t:Pe(t),f):o},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:Pe(t),f):a},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Pe(!!t),f):s},f.on=function(){var t=c.on.apply(c,arguments);return t===c?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}function je(t){return"string"==typeof t?new pt([document.querySelectorAll(t)],[document.documentElement]):new pt([i(t)],dt)}function Ye(t){return((t=Math.exp(t))+1/t)/2}De.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};const qe=function t(n,e,r){function i(t,i){var o,a,s=t[0],u=t[1],c=t[2],l=i[0],h=i[1],f=i[2],d=l-s,p=h-u,m=d*d+p*p;if(m<1e-12)a=Math.log(f/c)/n,o=function(t){return[s+t*d,u+t*p,c*Math.exp(n*t*a)]};else{var v=Math.sqrt(m),y=(f*f-c*c+r*m)/(2*c*e*v),g=(f*f-c*c-r*m)/(2*f*e*v),w=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(g*g+1)-g);a=(_-w)/n,o=function(t){var r,i=t*a,o=Ye(w),l=c/(e*v)*(o*(r=n*i+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[s+l*d,u+l*p,c*o/Ye(n*i+w)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4),Oe=t=>()=>t;function Be(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function He(t,n,e){this.k=t,this.x=n,this.y=e}He.prototype={constructor:He,scale:function(t){return 1===t?this:new He(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new He(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ve=new He(1,0,0);function Ue(t){t.stopImmediatePropagation()}function Ke(t){t.preventDefault(),t.stopImmediatePropagation()}function Ze(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Fe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Ge(){return this.__zoom||Ve}function Qe(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Je(){return navigator.maxTouchPoints||"ontouchstart"in this}function tr(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}He.prototype;const nr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)}))};var er=e(379),rr=e.n(er),ir=e(795),or=e.n(ir),ar=e(569),sr=e.n(ar),ur=e(565),cr=e.n(ur),lr=e(216),hr=e.n(lr),fr=e(589),dr=e.n(fr),pr=e(342),mr={};mr.styleTagTransform=dr(),mr.setAttributes=cr(),mr.insert=sr().bind(null,"head"),mr.domAPI=or(),mr.insertStyleElement=hr(),rr()(pr.Z,mr),pr.Z&&pr.Z.locals&&pr.Z.locals;class vr{constructor(t={}){this.objectWrap=null,this.svgWrap=null,this.svgWrapg=null,this.gWrap=null,this.pathWrap=null,this.isInit=!0,this.mainCirceRadius=25,this.smallCirceRadius=5,this.svgWidth=1e3,this.svgHeight=800,this.zoomX=0,this.zoomY=0,this.zoomK=0,this.onNodeClick=null,this.onPathClick=null,this.connectType="line",this.nodeType="circle",this.leftSize=0,this.topSize=0,this.nodePosition={},this.nodeData=[],this.connectData=[];const n=this;this.zoom=function(){var t,n,e,r=Ze,i=Fe,o=tr,a=Qe,s=Je,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,h=qe,f=kt("start","zoom","end"),d=500,p=0,m=10;function v(t){t.property("__zoom",Ge).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new He(n,t.x,t.y)}function g(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new He(t.k,r,i)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,n,e,r){t.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=x(t,o).event(r),s=i.apply(t,o),u=null==e?w(s):"function"==typeof e?e.apply(t,o):e,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=t.__zoom,f="function"==typeof n?n.apply(t,o):n,d=h(l.invert(u).concat(c/l.k),f.invert(u).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=d(t),e=c/n[2];t=new He(e,u[0]-n[0]*e,u[1]-n[1]*e)}a.zoom(null,t)}}))}function x(t,n,e){return!e&&t.__zooming||new b(t,n)}function b(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function k(t,...n){if(r.apply(this,arguments)){var e=x(this,n).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,a.apply(this,arguments)))),l=Ee(t);if(e.wheel)e.mouse[0][0]===l[0]&&e.mouse[0][1]===l[1]||(e.mouse[1]=i.invert(e.mouse[0]=l)),clearTimeout(e.wheel);else{if(i.k===s)return;e.mouse=[l,i.invert(l)],Kt(this),e.start()}Ke(t),e.wheel=setTimeout(h,150),e.zoom("mouse",o(g(y(i,s),e.mouse[0],e.mouse[1]),e.extent,c))}function h(){e.wheel=null,e.end()}}function M(t,...n){if(!e&&r.apply(this,arguments)){var i=t.currentTarget,a=x(this,n,!0).event(t),s=Ae(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",d,!0),u=Ee(t,i),l=t.clientX,h=t.clientY;Te(t.view),Ue(t),a.mouse=[u,this.__zoom.invert(u)],Kt(this),a.start()}function f(t){if(Ke(t),!a.moved){var n=t.clientX-l,e=t.clientY-h;a.moved=n*n+e*e>p}a.event(t).zoom("mouse",o(g(a.that.__zoom,a.mouse[0]=Ee(t,i),a.mouse[1]),a.extent,c))}function d(t){s.on("mousemove.zoom mouseup.zoom",null),$e(t.view,a.moved),Ke(t),a.event(t).end()}}function A(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,a=Ee(t.changedTouches?t.changedTouches[0]:t,this),s=e.invert(a),u=e.k*(t.shiftKey?.5:2),h=o(g(y(e,u),a,s),i.apply(this,n),c);Ke(t),l>0?Ae(this).transition().duration(l).call(_,h,a,t):Ae(this).call(v.transform,h,a,t)}}function E(e,...i){if(r.apply(this,arguments)){var o,a,s,u,c=e.touches,l=c.length,h=x(this,i,e.changedTouches.length===l).event(e);for(Ue(e),a=0;a<l;++a)u=[u=Ee(s=c[a],this),this.__zoom.invert(u),s.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(n=u[0],t=setTimeout((function(){t=null}),d)),Kt(this),h.start())}}function z(t,...n){if(this.__zooming){var e,r,i,a,s=x(this,n).event(t),u=t.changedTouches,l=u.length;for(Ke(t),e=0;e<l;++e)i=Ee(r=u[e],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],f=s.touch0[1],d=s.touch1[0],p=s.touch1[1],m=(m=d[0]-h[0])*m+(m=d[1]-h[1])*m,v=(v=p[0]-f[0])*v+(v=p[1]-f[1])*v;r=y(r,Math.sqrt(m/v)),i=[(h[0]+d[0])/2,(h[1]+d[1])/2],a=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(g(r,i,a),s.extent,c))}}function C(t,...r){if(this.__zooming){var i,o,a=x(this,r).event(t),s=t.changedTouches,u=s.length;for(Ue(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),d),i=0;i<u;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Ee(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<m)){var c=Ae(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",Ge),t!==i?_(t,n,e,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},v.scaleBy=function(t,n,e,r){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)}),e,r)},v.scaleTo=function(t,n,e,r){v.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==e?w(t):"function"==typeof e?e.apply(this,arguments):e,s=r.invert(a),u="function"==typeof n?n.apply(this,arguments):n;return o(g(y(r,u),a,s),t,c)}),e,r)},v.translateBy=function(t,n,e,r){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),c)}),null,r)},v.translateTo=function(t,n,e,r,a){v.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?w(t):"function"==typeof r?r.apply(this,arguments):r;return o(Ve.translate(s[0],s[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,c)}),r,a)},b.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Ae(this.that).datum();f.call(t,this.that,new Be(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:f}),n)}},v.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Oe(+t),v):a},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:Oe(!!t),v):r},v.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Oe(!!t),v):s},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:Oe([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],v):[u[0],u[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(l=+t,v):l},v.interpolate=function(t){return arguments.length?(h=t,v):h},v.on=function(){var t=f.on.apply(f,arguments);return t===f?v:t},v.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,v):Math.sqrt(p)},v.tapDistance=function(t){return arguments.length?(m=+t,v):m},v}().scaleExtent([.1,100]).on("zoom",(t=>this.svgZoomed(t))),this.drag=Xe().on("start",this.dragstart).on("drag",(function(t,e){n.draging(t,e,n,this)})).on("end",this.dragend),this.smallCircleDrag=Xe().on("start",(function(t,e){n.smallCircleDragstart(t,e,n,this)})).on("drag",(function(t,e){n.smallCircleDraging(t,e,n)})).on("end",(function(t,e){n.smallCircleDragend(t,e,n,this)})),this.handleDeleteNode=this.handleDeleteNode.bind(this)}handleClick(t,n){this.onNodeClick&&this.onNodeClick(n),je(".unit-dis").attr("class","unit-dis"),je(".connect-fixed-line").attr("data-selected",""),Ae(this).attr("class","unit-dis selected")}handlePathClick(t,n){je(".unit-dis").attr("class","unit-dis"),je(".connect-fixed-line").attr("data-selected",""),Ae(this).attr("data-selected",!0),this.onPathClick&&this.onPathClick(n)}dragstart(t,n){n.dx=t.sourceEvent.x,n.dy=t.sourceEvent.y}draging(t,n,e,r){n.xp=n.x-(n.dx-t.sourceEvent.x),n.yp=n.y-(n.dy-t.sourceEvent.y),this.connectData.forEach((t=>{const e=t.source===n.id?t.startIndex:t.endIndex,r=Math.cos(Math.PI/180*e*90)*this.mainCirceRadius,i=Math.sin(Math.PI/180*e*90)*this.mainCirceRadius;t.source===n.id?(t.x1=n.xp+r,t.y1=n.yp+i):t.target===n.id&&(t.x2=n.xp+r,t.y2=n.yp+i)})),this.renderLines({data:this.connectData}),Ae(r).attr("transform",(()=>`translate(${n.xp}, ${n.yp})`))}dragend(t,n){n.x=n.xp||t.sourceEvent.x,n.y=n.yp||t.sourceEvent.y}renderNodes(t={}){je(".unit-dis").remove(),this.objectWrap=this.gWrap.selectAll("g").data(t.data).enter().append("g").attr("id",(t=>t.id)).attr("class","unit-dis").call(this.drag).on("click",this.handleClick).attr("transform",(t=>this.isInit?"translate(0, 0)":`translate(${t.x}, ${t.y})`)),this.isInit&&this.objectWrap.transition().duration(750).delay((function(t,n){return 10*n})).attr("transform",(t=>`translate(${t.x}, ${t.y})`)),this.renderMain()}renderLines(t={}){this.pathWrap.selectAll(".connect-fixed-line").remove();const n=this.pathWrap.selectAll(".connect-fixed-line").data(t.data).enter().append("path").attr("class",(t=>`start-${t.source} end-${t.target} connect-fixed-line`)).attr("marker-end","url(#arrowEnd)").attr("d",(t=>this.isInit?"M0,0 0,0":`M${t.x1},${t.y1} ${t.x2},${t.y2}`)).attr("data-id",(t=>t.id)).on("click",this.handlePathClick);this.isInit&&n.transition().duration(750).delay((function(t,n){return 10*n})).attr("d",(t=>`M${t.x1},${t.y1} ${t.x2},${t.y2}`)),this.isInit=!1}handleDeleteNode(t,n){this.nodeData=this.nodeData.filter((t=>n.id!==t.id)),this.renderNodes({data:this.nodeData}),this.connectData=this.connectData.filter((t=>t.source!==n.id&&t.target!==n.id)),this.renderLines({data:this.connectData})}smallCircleDragstart(t,n,e,r){je(".unit-dis").attr("data-ready","true"),Ae(r.parentNode).attr("data-ready",""),n.dx=t.sourceEvent.layerX-Math.cos(Math.PI/180*n.index*90)*e.smallCirceRadius-5,n.dy=t.sourceEvent.layerY-Math.sin(Math.PI/180*n.index*90)*e.smallCirceRadius-105}smallCircleDraging(t,n,e){const r=0===e.zoomK?1:e.zoomK;n.x1=(n.dx-e.zoomX)/r,n.y1=(n.dy-e.zoomY)/r,n.x2=(t.sourceEvent.layerX-e.zoomX)/r-8,n.y2=(t.sourceEvent.layerY-e.zoomY)/r-108;let i=`M${n.x1},${n.y1} ${n.x2},${n.y2}`;if("path"===e.connectType)switch(n.index){case 0:i=`M${n.x1},${n.y1} C${(n.x1+n.x2)/2},${n.y1} ${(n.x2+n.x1)/2},${n.y2}  ${n.x2},${n.y2}`;break;case 1:case 3:i=`M${n.x1},${n.y1} C${n.x1},${n.y2} ${n.x2},${n.y1}  ${n.x2},${n.y2}`;break;case 2:i=`M${n.x1},${n.y1} C${(n.x2+n.x1)/2},${n.y1} ${(n.x1+n.x2)/2},${n.y2}  ${n.x2},${n.y2}`;break;default:i=`M${n.x1},${n.y1} ${n.x2},${n.y2}`}Ae(".connect-line").attr("class","connect-line show").attr("d",i)}smallCircleDragend(t,n,e,r){je(".unit-dis").attr("data-ready",""),Ae(".connect-line").attr("class","connect-line");const i=document.querySelector(".small-circle.active");i&&(e.connectData.push({source:r.parentNode.getAttribute("id"),target:i.parentNode.getAttribute("id"),startIndex:n.index,endIndex:Number(i.dataset.index),x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}),e.renderLines({data:e.connectData}))}renderMain(){this.objectWrap.append("g").attr("class","delete-circle").attr("title","delete").attr("transform",`translate(${this.mainCirceRadius}, ${-this.mainCirceRadius-5})`).on("click",this.handleDeleteNode).html('<svg t="1634267294175" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2117" width="24" height="24"><path d="M512 832c-176.448 0-320-143.552-320-320S335.552 192 512 192s320 143.552 320 320-143.552 320-320 320m0-704C300.256 128 128 300.256 128 512s172.256 384 384 384 384-172.256 384-384S723.744 128 512 128" p-id="2118" fill="#d81e06"></path><path d="M649.824 361.376a31.968 31.968 0 0 0-45.248 0L505.6 460.352l-98.976-98.976a31.968 31.968 0 1 0-45.248 45.248l98.976 98.976-98.976 98.976a32 32 0 0 0 45.248 45.248l98.976-98.976 98.976 98.976a31.904 31.904 0 0 0 45.248 0 31.968 31.968 0 0 0 0-45.248L550.848 505.6l98.976-98.976a31.968 31.968 0 0 0 0-45.248" p-id="2119" fill="#d81e06"></path></svg>'),"rect"===this.nodeType?this.objectWrap.append("rect").attr("fill","#fff").attr("class","main-circle").attr("stroke","#227AE6").attr("x",-this.mainCirceRadius).attr("y",-this.mainCirceRadius).attr("rx",5).attr("ry",5).attr("height",2*this.mainCirceRadius).attr("width",2*this.mainCirceRadius):this.objectWrap.append("circle").attr("fill","#fff").attr("class","main-circle").attr("stroke","#227AE6").attr("r",this.mainCirceRadius);const t=[{x:this.mainCirceRadius,y:0,index:0},{x:0,y:this.mainCirceRadius,index:1},{x:-this.mainCirceRadius,y:0,index:2},{x:0,y:-this.mainCirceRadius,index:3}];this.objectWrap.selectAll(".small-circle").data(t).enter().append("circle").attr("class","small-circle").attr("data-index",(t=>t.index)).attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).attr("r",this.smallCirceRadius).on("mouseenter",(function(t){this.setAttribute("class","small-circle active")})).on("mouseleave",(function(t){this.setAttribute("class","small-circle")})).call(this.smallCircleDrag),this.objectWrap.append("g").attr("transform","translate(-15, -15)").html((t=>t.icon?t.icon:"")),this.objectWrap.append("text").attr("y",(t=>t.icon?45:8)).attr("fill","#111").attr("style","text-anchor: middle;").text((t=>t.text))}svgZoomed(t){this.zoomX=t.transform.x,this.zoomY=t.transform.y,this.zoomK=t.transform.k,this.svgWrapg.attr("transform",t.transform)}init(t={}){const n=Ae(`#${t.id}`).attr("height",this.svgHeight).html(""),e=document.querySelector(`#${t.id}`);this.leftSize=e.offsetLeft,this.topSize=e.offsetTop,this.connectType=t.connectType||"line",this.nodeType=t.nodeType||"circle",function(t={}){const n=t.option.map((t=>({...t,id:nr()}))),e=t.wrap.append("div").attr("class","svg-option-list").selectAll("div").data(n).enter().append("div").attr("draggable","true").attr("class","svg-option-list-li").attr("data-id",((t,n)=>t.id)).on("dragend",(function(n,e){t.add({title:e.title,x:n.layerX,y:n.layerY-100})}));e.append("div").html('<svg t="1634023350064" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1661" width="32" height="32"><path d="M522.666667 96l8.533333 0.042667a910.08 910.08 0 0 1 91.562667 5.333333l14.549333 1.706667 15.402667 2.133333 15.125333 2.410667 7.573333 1.322666 14.890667 2.837334c125.205333 25.322667 212.928 79.488 216.256 150.677333l0.106667 4.202667v448c0 73.258667-88.704 129.066667-216.362667 154.88l-14.890667 2.837333-7.573333 1.322667-15.125333 2.389333-15.402667 2.133333c-36.266667 4.650667-74.773333 7.104-114.645333 7.104-39.872 0-78.378667-2.453333-114.645334-7.104l-15.402666-2.133333-15.125334-2.389333c-137.088-23.189333-235.264-79.488-238.72-154.901334L138.666667 714.666667v-448l0.106666-4.202667c3.328-71.189333 91.050667-125.354667 216.256-150.677333l14.890667-2.837334 7.573333-1.322666 15.125334-2.389334 15.402666-2.133333a892.202667 892.202667 0 0 1 97.642667-6.954667L522.666667 96z m145.173333 543.04l-15.125333 2.389333-15.402667 2.133334c-36.266667 4.650667-74.773333 7.104-114.645333 7.104-39.872 0-78.378667-2.453333-114.645334-7.104l-15.402666-2.133334-15.125334-2.389333c-71.488-12.096-132.416-33.194667-174.826666-61.312V714.666667c0 20.949333 24.170667 42.773333 65.066666 61.184l9.749334 4.181333c15.04 6.186667 32 11.925333 50.602666 17.024l12.650667 3.306667c12.864 3.2 26.453333 6.144 40.597333 8.704l14.378667 2.453333 14.741333 2.197333c9.962667 1.386667 20.16 2.602667 30.570667 3.626667l15.765333 1.408 16.064 1.109333 16.362667 0.810667a845.994667 845.994667 0 0 0 66.901333 0l16.362667-0.810667 16.064-1.109333 15.786667-1.408c10.389333-1.024 20.586667-2.24 30.549333-3.626667l14.741333-2.197333 14.378667-2.453333c14.165333-2.56 27.733333-5.482667 40.597333-8.704l12.650667-3.306667c18.602667-5.12 35.562667-10.837333 50.602667-17.024l9.749333-4.181333c39.317333-17.706667 63.189333-38.549333 64.96-58.773334l0.106667-2.410666v-136.96c-42.389333 28.138667-103.317333 49.237333-174.826667 61.333333zM842.666667 364.373333c-40.298667 26.730667-97.28 47.104-164.202667 59.456l-10.666667 1.877334-15.104 2.389333-15.402666 2.133333c-36.266667 4.650667-74.773333 7.104-114.645334 7.104-34.176 0-67.349333-1.792-98.986666-5.248l-15.658667-1.856-15.402667-2.133333-15.125333-2.389333c-71.488-12.096-132.416-33.194667-174.826667-61.312V480c0 20.949333 24.170667 42.773333 65.066667 61.184l9.749333 4.181333c15.04 6.186667 32 11.925333 50.602667 17.024l12.650667 3.306667c12.864 3.2 26.453333 6.144 40.597333 8.704l14.378667 2.453333 14.741333 2.197334c9.962667 1.386667 20.16 2.602667 30.570667 3.626666l15.765333 1.408 16.064 1.109334 16.362667 0.810666a845.994667 845.994667 0 0 0 66.901333 0l16.362667-0.810666 16.064-1.109334 15.786666-1.408c10.389333-1.024 20.586667-2.24 30.549334-3.626666l14.741333-2.197334 14.378667-2.453333c14.165333-2.56 27.733333-5.482667 40.597333-8.704l12.650667-3.306667c18.602667-5.12 35.562667-10.837333 50.602666-17.024l9.749334-4.181333c39.317333-17.706667 63.189333-38.549333 64.96-58.773333l0.106666-2.410667v-115.626667zM522.666667 160l-8.448 0.042667-12.586667 0.213333-12.416 0.405333-16.362667 0.810667-16.064 1.109333-15.786666 1.408c-6.933333 0.682667-13.76 1.450667-20.501334 2.304l-10.026666 1.322667-14.762667 2.197333-14.378667 2.453334c-10.624 1.92-20.906667 4.053333-30.826666 6.336l-9.770667 2.346666-12.650667 3.328c-15.488 4.266667-29.866667 8.96-42.922666 13.973334l-7.68 3.050666-9.749334 4.181334c-40.896 18.410667-65.066667 40.234667-65.066666 61.184 0 20.053333 22.122667 40.874667 59.84 58.773333l5.226666 2.410667 9.749334 4.181333c12.522667 5.162667 26.389333 10.005333 41.450666 14.421333l9.173334 2.602667 12.629333 3.306667c9.642667 2.410667 19.690667 4.650667 30.08 6.72l10.517333 1.984 14.378667 2.453333 14.741333 2.197333c6.634667 0.938667 13.376 1.770667 20.224 2.56l10.346667 1.066667 15.765333 1.408 16.064 1.109333 16.362667 0.810667a845.994667 845.994667 0 0 0 55.872 0.362667l11.029333-0.362667 16.362667-0.810667 16.064-1.109333 15.786667-1.408c6.933333-0.682667 13.76-1.450667 20.501333-2.304l10.026667-1.322667 14.762666-2.197333 14.378667-2.453333c10.624-1.92 20.906667-4.053333 30.826667-6.336l9.770666-2.346667 12.650667-3.328c15.488-4.266667 29.866667-8.96 42.922667-13.973333l7.68-3.050667 9.749333-4.181333c40.896-18.410667 65.066667-40.234667 65.066667-61.184 0-20.053333-22.122667-40.874667-59.84-58.773334l-5.226667-2.410666-9.749333-4.181334a424.469333 424.469333 0 0 0-41.450667-14.421333l-9.173333-2.602667-12.629334-3.306666a623.658667 623.658667 0 0 0-30.08-6.72l-10.517333-1.984-14.378667-2.453334-14.741333-2.197333a765.994667 765.994667 0 0 0-20.224-2.56l-10.346667-1.066667-15.765333-1.408-16.064-1.109333-16.362667-0.810667c-7.317333-0.298667-14.72-0.490667-22.186666-0.597333L522.666667 160z" fill="#1677FF" p-id="1662"></path></svg>'),e.append("div").html((t=>t.title))}({wrap:n,add:(t={})=>this.add(t),option:t.list});const r=n.append("div");this.svgWrap=r.append("svg").call(this.zoom),this.svgWrap.append("rect").attr("width","100%").attr("height",this.svgHeight).attr("fill","url(#diagramPattern)").on("click",(t=>{je(".unit-dis").attr("class","unit-dis")})),this.svgWrapg=this.svgWrap.append("g"),this.pathWrap=this.svgWrapg.append("g"),this.gWrap=this.svgWrapg.append("g"),n.attr("class","nodelayout-wrap"),this.svgWrap.attr("width","100%").attr("height",this.svgHeight),this.gWrap.append("path").attr("class","connect-line").attr("marker-end","url(#arrowEnd)"),t.nodes||(t.nodes=[]),t.onNodeClick&&(this.onNodeClick=t.onNodeClick),t.onPathClick&&(this.onPathClick=t.onPathClick),this.nodeData=t.nodes.map(((t,n)=>{let e=t.x||100*n+200,r=t.y||this.svgHeight/5;return this.nodePosition[t.id]={x:e,y:r},{...t,id:t.id,text:t.title,x:e,y:r}})),this.renderNodes({data:this.nodeData}),t.lines&&(this.connectData=[],t.lines.forEach(((t,n)=>{const e=t.startIndex,r=t.endIndex;this.connectData.push({id:nr(),source:t.source,target:t.target,startIndex:e,endIndex:r,x1:this.nodePosition[t.source].x+Math.cos(Math.PI/180*e*90)*this.mainCirceRadius,y1:this.nodePosition[t.source].y+Math.sin(Math.PI/180*e*90)*this.mainCirceRadius,x2:this.nodePosition[t.target].x+Math.cos(Math.PI/180*r*90)*this.mainCirceRadius,y2:this.nodePosition[t.target].y+Math.sin(Math.PI/180*r*90)*this.mainCirceRadius})})),this.renderLines({data:this.connectData}));let i=this.svgWrap.append("defs");i.append("marker").attr("id","arrowEnd").attr("markerUnits","strokeWidth").attr("markerWidth","12").attr("markerHeight","12").attr("viewBox","0 0 12 12").attr("refX","10").attr("refY","6").attr("orient","auto").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2").attr("class","pathArrow"),i.append("marker").attr("id","arrowStart").attr("markerUnits","strokeWidth").attr("markerWidth","12").attr("markerHeight","12").attr("viewBox","0 0 12 12").attr("refX","0").attr("refY","6").attr("orient","auto").append("path").attr("d","M10,2 L2,6 L10,10 L6,6 L10,2").attr("class","pathArrow");const o=new Array(20);i.append("pattern").attr("id","diagramPattern").attr("x",0).attr("y",0).attr("width",100).attr("height",100).attr("patternUnits","userSpaceOnUse").selectAll("path").data(o).enter().append("path").attr("stroke","#e0e0e0").attr("stroke-width","0.25").attr("dashArray","").attr("d",((t,n)=>0===n?"M0,0.5 L100,0.5 Z":n<10&&n>0?`M0,${10*n}.125 L100,${10*n}.125 Z`:10===n?"M0.5,0 L0.5,100 Z":n>10?`M${10*(n-10)}.125,0 L${10*(n-10)}.125,100 Z`:void 0))}add(t={}){const n=t.x||1e3*Math.random(),e=t.y||600*Math.random()+200,r=0===this.zoomK?1:this.zoomK;this.nodeData.push({id:nr(),text:t.title||t+(this.nodeData.length+1),x:(n-this.zoomX)/r-this.leftSize,y:(e-this.zoomY)/r-this.topSize}),this.renderNodes({data:this.nodeData})}zoomIn(){this.svgWrap.transition().call(this.zoom.scaleBy,1.5)}zoomOut(){this.svgWrap.transition().call(this.zoom.scaleBy,.5)}reset(){this.svgWrap.transition().duration(750).call(this.zoom.transform,Ve)}}})(),r})()}));